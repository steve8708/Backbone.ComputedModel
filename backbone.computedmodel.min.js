/* backbone.computedmodel.min.js v0.0.2 */ 
(function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};Backbone.ComputedModel=function(a){function c(a,b){var d,e,f;null==b&&(b={}),c.__super__.constructor.apply(this,arguments),f=_.extend(b.compute||{},this.compute);for(d in f)e=f[d],this.computeProperty(d,e);this.blacklist||(this.blacklist=[])}return b(c,a),c.prototype.computeProperty=function(a,b){var c,d,e,f,g,h,i,j=this;switch(b=_.clone(b),type(b)){case"object":d=b;break;case"array":d={fn:b.pop(),triggers:b}}for(this.blacklist.push(a),c=function(){var b,c;return c=d.triggers.map(function(a){return j.get(a)}),b=d.fn.apply(j,c),j.set(a,b)},i=d.triggers,g=0,h=i.length;h>g;g++)f=i[g],this.on("change:"+f,c),e=f.split(".");try{return c()}catch(k){}},c.prototype.toJSON=function(a){var b;return b=Backbone.Model.prototype.toJSON.call(this,a),a?b:_.omit(b,this.blacklist)},c}(Backbone.Model)}).call(this);